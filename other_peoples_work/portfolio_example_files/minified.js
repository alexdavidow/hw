function PxLoaderImage(a,b,c){var d=this,e=null;this.img=new Image,this.tags=b,this.priority=c;var f=function(){"complete"===d.img.readyState&&(i(),e.onLoad(d))},g=function(){i(),e.onLoad(d)},h=function(){i(),e.onError(d)},i=function(){d.unbind("load",g),d.unbind("readystatechange",f),d.unbind("error",h)};this.start=function(b){e=b,d.bind("load",g),d.bind("readystatechange",f),d.bind("error",h),d.img.src=a},this.checkStatus=function(){d.img.complete&&(i(),e.onLoad(d))},this.onTimeout=function(){i(),d.img.complete?e.onLoad(d):e.onTimeout(d)},this.getName=function(){return a},this.bind=function(a,b){d.img.addEventListener?d.img.addEventListener(a,b,!1):d.img.attachEvent&&d.img.attachEvent("on"+a,b)},this.unbind=function(a,b){d.img.removeEventListener?d.img.removeEventListener(a,b,!1):d.img.detachEvent&&d.img.detachEvent("on"+a,b)}}!function(a){if(a.support.ajaxProgress="onprogress"in a.ajaxSettings.xhr()){a.fn.ajaxProgress=function(a){return this.bind("ajaxProgress",a)},a("html").bind("ajaxSend.ajaxprogress",function(a,b,c){c.__jqXHR=b});var b=a.ajaxSettings.xhr.bind(a.ajaxSettings);a.ajaxSetup({xhr:function(){var c=this,d=b();return d&&d.addEventListener("progress",function(b){c.global&&a.event.trigger("ajaxProgress",[b,c.__jqXHR]),"function"==typeof c.progress&&c.progress(c.__jqXHR,b)}),d}})}}(jQuery),function(a){function b(a){a=a||{},this.settings=a,null==a.statusInterval&&(a.statusInterval=5e3),null==a.loggingDelay&&(a.loggingDelay=2e4),null==a.noProgressTimeout&&(a.noProgressTimeout=1/0);var b,d=[],e=[],f=Date.now(),g={QUEUED:0,WAITING:1,LOADED:2,ERROR:3,TIMEOUT:4},h=function(a){return null==a?[]:Array.isArray(a)?a:[a]};this.add=function(a){a.tags=new c(a.tags),null==a.priority&&(a.priority=1/0),d.push({resource:a,status:g.QUEUED})},this.addProgressListener=function(a,b){e.push({callback:a,tags:new c(b)})},this.addCompletionListener=function(a,b){e.push({tags:new c(b),callback:function(b){b.completedCount===b.totalCount&&a(b)}})};var i=function(a){a=h(a);var b=function(b){for(var c=b.resource,d=1/0,e=0;e<c.tags.length;e++)for(var f=0;f<Math.min(a.length,d)&&!(c.tags.all[e]===a[f]&&d>f&&(d=f,0===d))&&0!==d;f++);return d};return function(a,c){var d=b(a),e=b(c);return e>d?-1:d>e?1:a.priority<c.priority?-1:a.priority>c.priority?1:0}};this.start=function(a){b=Date.now();var c=i(a);d.sort(c);for(var e=0,f=d.length;f>e;e++){var h=d[e];h.status=g.WAITING,h.resource.start(this)}setTimeout(j,100)};var j=function(){for(var b=!1,c=Date.now()-f,e=c>=a.noProgressTimeout,h=c>=a.loggingDelay,i=0,k=d.length;k>i;i++){var l=d[i];l.status===g.WAITING&&(l.resource.checkStatus&&l.resource.checkStatus(),l.status===g.WAITING&&(e?l.resource.onTimeout():b=!0))}h&&b&&m(),b&&setTimeout(j,a.statusInterval)};this.isBusy=function(){for(var a=0,b=d.length;b>a;a++)if(d[a].status===g.QUEUED||d[a].status===g.WAITING)return!0;return!1};var k=function(a,b){var c,h,i,j,k,m=null;for(c=0,h=d.length;h>c;c++)if(d[c].resource===a){m=d[c];break}if(null!=m&&m.status===g.WAITING)for(m.status=b,f=Date.now(),i=a.tags.length,c=0,h=e.length;h>c;c++)j=e[c],k=0===j.tags.length?!0:a.tags.intersects(j.tags),k&&l(m,j)};this.onLoad=function(a){k(a,g.LOADED)},this.onError=function(a){k(a,g.ERROR)},this.onTimeout=function(a){k(a,g.TIMEOUT)};var l=function(a,b){var c,e,f,h,i=0,j=0;for(c=0,e=d.length;e>c;c++)f=d[c],h=!1,h=0===b.tags.length?!0:f.resource.tags.intersects(b.tags),h&&(j++,(f.status===g.LOADED||f.status===g.ERROR||f.status===g.TIMEOUT)&&i++);b.callback({resource:a.resource,loaded:a.status===g.LOADED,error:a.status===g.ERROR,timeout:a.status===g.TIMEOUT,completedCount:i,totalCount:j})},m=this.log=function(a){if(window.console){var c=Math.round((Date.now()-b)/1e3);window.console.log("PxLoader elapsed: "+c+" sec");for(var e=0,f=d.length;f>e;e++){var h=d[e];if(a||h.status===g.WAITING){var i="PxLoader: #"+e+" "+h.resource.getName();switch(h.status){case g.QUEUED:i+=" (Not Started)";break;case g.WAITING:i+=" (Waiting)";break;case g.LOADED:i+=" (Loaded)";break;case g.ERROR:i+=" (Error)";break;case g.TIMEOUT:i+=" (Timeout)"}h.resource.tags.length>0&&(i+=" Tags: ["+h.resource.tags.all.join(",")+"]"),window.console.log(i)}}}}}function c(a){if(this.all=[],this.first=null,this.length=0,this.lookup={},a){if(Array.isArray(a))this.all=a.slice(0);else if("object"==typeof a)for(var b in a)a.hasOwnProperty(b)&&this.all.push(b);else this.all.push(a);this.length=this.all.length,this.length>0&&(this.first=this.all[0]);for(var c=0;c<this.length;c++)this.lookup[this.all[c]]=!0}}c.prototype.intersects=function(a){if(0===this.length||0===a.length)return!1;if(1===this.length&&1===a.length)return this.first===a.first;if(a.length<this.length)return a.intersects(this);for(var b in this.lookup)if(a.lookup[b])return!0;return!1},"function"==typeof define&&define.amd&&define("PxLoader",[],function(){return b}),a.PxLoader=b}(this),Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),PxLoader.prototype.addImage=function(a,b,c){var d=new PxLoaderImage(a,b,c);return this.add(d),d.img},"function"==typeof define&&define.amd&&define("PxLoaderImage",[],function(){return PxLoaderImage}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*.3*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null},d=document.createElement("div"),e=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return d.className="fit-vids-style",d.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",e.parentNode.insertBefore(d,e),b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d.each(function(){var b=a(this);if(!("embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),d=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),e=c/d;if(!b.attr("id")){var f="fitvid"+Math.floor(999999*Math.random());b.attr("id",f)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),b.removeAttr("height").removeAttr("width")}})})}}(jQuery),function(a){var b={},c={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};a.fn.bxSlider=function(d){if(0==this.length)return this;if(this.length>1)return this.each(function(){a(this).bxSlider(d)}),this;var e={},f=this;b.el=this;var g=a(window).width(),h=a(window).height(),j=function(){e.settings=a.extend({},c,d),e.settings.slideWidth=parseInt(e.settings.slideWidth),e.children=f.children(e.settings.slideSelector),e.children.length<e.settings.minSlides&&(e.settings.minSlides=e.children.length),e.children.length<e.settings.maxSlides&&(e.settings.maxSlides=e.children.length),e.settings.randomStart&&(e.settings.startSlide=Math.floor(Math.random()*e.children.length)),e.active={index:e.settings.startSlide},e.carousel=e.settings.minSlides>1||e.settings.maxSlides>1,e.carousel&&(e.settings.preloadImages="all"),e.minThreshold=e.settings.minSlides*e.settings.slideWidth+(e.settings.minSlides-1)*e.settings.slideMargin,e.maxThreshold=e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin,e.working=!1,e.controls={},e.interval=null,e.animProp="vertical"==e.settings.mode?"top":"left",e.usingCSS=e.settings.useCSS&&"fade"!=e.settings.mode&&function(){var a=document.createElement("div"),b=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return e.cssPrefix=b[c].replace("Perspective","").toLowerCase(),e.animProp="-"+e.cssPrefix+"-transform",!0;return!1}(),"vertical"==e.settings.mode&&(e.settings.maxSlides=e.settings.minSlides),k()},k=function(){if(f.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),e.viewport=f.parent(),e.loader=a('<div class="bx-loading" />'),e.viewport.prepend(e.loader),f.css({width:"horizontal"==e.settings.mode?215*e.children.length+"%":"auto",position:"relative"}),e.usingCSS&&e.settings.easing?f.css("-"+e.cssPrefix+"-transition-timing-function",e.settings.easing):e.settings.easing||(e.settings.easing="swing"),p(),e.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),e.viewport.parent().css({maxWidth:n()}),e.children.css({"float":"horizontal"==e.settings.mode?"left":"none",listStyle:"none",position:"relative"}),e.children.width(o()),"horizontal"==e.settings.mode&&e.settings.slideMargin>0&&e.children.css("marginRight",e.settings.slideMargin),"vertical"==e.settings.mode&&e.settings.slideMargin>0&&e.children.css("marginBottom",e.settings.slideMargin),"fade"==e.settings.mode&&(e.children.css({position:"absolute",zIndex:0,display:"none"}),e.children.eq(e.settings.startSlide).css({zIndex:50,display:"block"})),e.controls.el=a('<div class="bx-controls" />'),e.settings.captions&&y(),e.settings.infiniteLoop&&"fade"!=e.settings.mode&&!e.settings.ticker){var b="vertical"==e.settings.mode?e.settings.minSlides:e.settings.maxSlides,c=e.children.slice(0,b).clone().addClass("bx-clone"),d=e.children.slice(-b).clone().addClass("bx-clone");f.append(c).prepend(d)}e.active.last=e.settings.startSlide==q()-1,e.settings.video&&f.fitVids();var g=e.children.eq(e.settings.startSlide);"all"==e.settings.preloadImages&&(g=f.children()),e.settings.ticker?e.settings.pager=!1:(e.settings.pager&&v(),e.settings.controls&&w(),e.settings.auto&&e.settings.autoControls&&x(),(e.settings.controls||e.settings.autoControls||e.settings.pager)&&e.viewport.after(e.controls.el)),g.imagesLoaded(l)},l=function(){e.loader.remove(),s(),"vertical"==e.settings.mode&&(e.settings.adaptiveHeight=!0),e.viewport.height(m()),f.redrawSlider(),e.settings.onSliderLoad(e.active.index),e.initialized=!0,a(window).bind("resize",P),e.settings.auto&&e.settings.autoStart&&I(),e.settings.ticker&&J(),e.settings.pager&&E(e.settings.startSlide),e.settings.controls&&H(),e.settings.touchEnabled&&!e.settings.ticker&&L()},m=function(){var b=0,c=a();if("vertical"==e.settings.mode||e.settings.adaptiveHeight)if(e.carousel){var d=1==e.settings.moveSlides?e.active.index:e.active.index*r();for(c=e.children.eq(d),i=1;e.settings.maxSlides-1>=i;i++)c=d+i>=e.children.length?c.add(e.children.eq(i-1)):c.add(e.children.eq(d+i))}else c=e.children.eq(e.active.index);else c=e.children;return"vertical"==e.settings.mode?(c.each(function(){b+=a(this).outerHeight()}),e.settings.slideMargin>0&&(b+=e.settings.slideMargin*(e.settings.minSlides-1))):b=Math.max.apply(Math,c.map(function(){return a(this).outerHeight(!1)}).get()),b},n=function(){var a="100%";return e.settings.slideWidth>0&&(a="horizontal"==e.settings.mode?e.settings.maxSlides*e.settings.slideWidth+(e.settings.maxSlides-1)*e.settings.slideMargin:e.settings.slideWidth),a},o=function(){var a=e.settings.slideWidth,b=e.viewport.width();return 0==e.settings.slideWidth||e.settings.slideWidth>b&&!e.carousel||"vertical"==e.settings.mode?a=b:e.settings.maxSlides>1&&"horizontal"==e.settings.mode&&(b>e.maxThreshold||e.minThreshold>b&&(a=(b-e.settings.slideMargin*(e.settings.minSlides-1))/e.settings.minSlides)),a},p=function(){var a=1;if("horizontal"==e.settings.mode&&e.settings.slideWidth>0)if(e.viewport.width()<e.minThreshold)a=e.settings.minSlides;else if(e.viewport.width()>e.maxThreshold)a=e.settings.maxSlides;else{var b=e.children.first().width();a=Math.floor(e.viewport.width()/b)}else"vertical"==e.settings.mode&&(a=e.settings.minSlides);return a},q=function(){var a=0;if(e.settings.moveSlides>0)if(e.settings.infiniteLoop)a=e.children.length/r();else for(var b=0,c=0;e.children.length>b;)++a,b=c+p(),c+=e.settings.moveSlides<=p()?e.settings.moveSlides:p();else a=Math.ceil(e.children.length/p());return a},r=function(){return e.settings.moveSlides>0&&e.settings.moveSlides<=p()?e.settings.moveSlides:p()},s=function(){if(e.children.length>e.settings.maxSlides&&e.active.last&&!e.settings.infiniteLoop){if("horizontal"==e.settings.mode){var a=e.children.last(),b=a.position();t(-(b.left-(e.viewport.width()-a.width())),"reset",0)}else if("vertical"==e.settings.mode){var c=e.children.length-e.settings.minSlides,b=e.children.eq(c).position();t(-b.top,"reset",0)}}else{var b=e.children.eq(e.active.index*r()).position();e.active.index==q()-1&&(e.active.last=!0),void 0!=b&&("horizontal"==e.settings.mode?t(-b.left,"reset",0):"vertical"==e.settings.mode&&t(-b.top,"reset",0))}},t=function(a,b,c,d){if(e.usingCSS){var g="vertical"==e.settings.mode?"translate3d(0, "+a+"px, 0)":"translate3d("+a+"px, 0, 0)";f.css("-"+e.cssPrefix+"-transition-duration",c/1e3+"s"),"slide"==b?(f.css(e.animProp,g),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),F()})):"reset"==b?f.css(e.animProp,g):"ticker"==b&&(f.css("-"+e.cssPrefix+"-transition-timing-function","linear"),f.css(e.animProp,g),f.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),t(d.resetValue,"reset",0),K()}))}else{var h={};h[e.animProp]=a,"slide"==b?f.animate(h,c,e.settings.easing,function(){F()}):"reset"==b?f.css(e.animProp,a):"ticker"==b&&f.animate(h,speed,"linear",function(){t(d.resetValue,"reset",0),K()})}},u=function(){for(var b="",c=q(),d=0;c>d;d++){var f="";e.settings.buildPager&&a.isFunction(e.settings.buildPager)?(f=e.settings.buildPager(d),e.pagerEl.addClass("bx-custom-pager")):(f=d+1,e.pagerEl.addClass("bx-default-pager")),b+='<div class="bx-pager-item"><a href="" data-slide-index="'+d+'" class="bx-pager-link">'+f+"</a></div>"}e.pagerEl.html(b)},v=function(){e.settings.pagerCustom?e.pagerEl=a(e.settings.pagerCustom):(e.pagerEl=a('<div class="bx-pager" />'),e.settings.pagerSelector?a(e.settings.pagerSelector).html(e.pagerEl):e.controls.el.addClass("bx-has-pager").append(e.pagerEl),u()),e.pagerEl.delegate("a","click",D)},w=function(){e.controls.next=a('<a class="bx-next" href="">'+e.settings.nextText+"</a>"),e.controls.prev=a('<a class="bx-prev" href="">'+e.settings.prevText+"</a>"),e.controls.next.bind("click",z),e.controls.prev.bind("click",A),e.settings.nextSelector&&a(e.settings.nextSelector).append(e.controls.next),e.settings.prevSelector&&a(e.settings.prevSelector).append(e.controls.prev),e.settings.nextSelector||e.settings.prevSelector||(e.controls.directionEl=a('<div class="bx-controls-direction" />'),e.controls.directionEl.append(e.controls.prev).append(e.controls.next),e.controls.el.addClass("bx-has-controls-direction").append(e.controls.directionEl))},x=function(){e.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+e.settings.startText+"</a></div>"),e.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+e.settings.stopText+"</a></div>"),e.controls.autoEl=a('<div class="bx-controls-auto" />'),e.controls.autoEl.delegate(".bx-start","click",B),e.controls.autoEl.delegate(".bx-stop","click",C),e.settings.autoControlsCombine?e.controls.autoEl.append(e.controls.start):e.controls.autoEl.append(e.controls.start).append(e.controls.stop),e.settings.autoControlsSelector?a(e.settings.autoControlsSelector).html(e.controls.autoEl):e.controls.el.addClass("bx-has-controls-auto").append(e.controls.autoEl),G(e.settings.autoStart?"stop":"start")},y=function(){e.children.each(function(){var b=a(this).find("img:first").attr("title");void 0!=b&&a(this).append('<div class="bx-caption"><span>'+b+"</span></div>")})},z=function(a){e.settings.auto&&f.stopAuto(),f.goToNextSlide(),a.preventDefault()},A=function(a){e.settings.auto&&f.stopAuto(),f.goToPrevSlide(),a.preventDefault()},B=function(a){f.startAuto(),a.preventDefault()},C=function(a){f.stopAuto(),a.preventDefault()},D=function(b){e.settings.auto&&f.stopAuto();var c=a(b.currentTarget),d=parseInt(c.attr("data-slide-index"));d!=e.active.index&&f.goToSlide(d),b.preventDefault()},E=function(b){return"short"==e.settings.pagerType?(e.pagerEl.html(b+1+e.settings.pagerShortSeparator+e.children.length),void 0):(e.pagerEl.find("a").removeClass("active"),e.pagerEl.each(function(c,d){a(d).find("a").eq(b).addClass("active")}),void 0)},F=function(){if(e.settings.infiniteLoop){var a="";0==e.active.index?a=e.children.eq(0).position():e.active.index==q()-1&&e.carousel?a=e.children.eq((q()-1)*r()).position():e.active.index==e.children.length-1&&(a=e.children.eq(e.children.length-1).position()),"horizontal"==e.settings.mode?t(-a.left,"reset",0):"vertical"==e.settings.mode&&t(-a.top,"reset",0)}e.working=!1,e.settings.onSlideAfter(e.children.eq(e.active.index),e.oldIndex,e.active.index)},G=function(a){e.settings.autoControlsCombine?e.controls.autoEl.html(e.controls[a]):(e.controls.autoEl.find("a").removeClass("active"),e.controls.autoEl.find("a:not(.bx-"+a+")").addClass("active"))},H=function(){1==q()?(e.controls.prev.addClass("disabled"),e.controls.next.addClass("disabled")):!e.settings.infiniteLoop&&e.settings.hideControlOnEnd&&(0==e.active.index?(e.controls.prev.addClass("disabled"),e.controls.next.removeClass("disabled")):e.active.index==q()-1?(e.controls.next.addClass("disabled"),e.controls.prev.removeClass("disabled")):(e.controls.prev.removeClass("disabled"),e.controls.next.removeClass("disabled")))},I=function(){e.settings.autoDelay>0?setTimeout(f.startAuto,e.settings.autoDelay):f.startAuto(),e.settings.autoHover&&f.hover(function(){e.interval&&(f.stopAuto(!0),e.autoPaused=!0)},function(){e.autoPaused&&(f.startAuto(!0),e.autoPaused=null)})},J=function(){var b=0;if("next"==e.settings.autoDirection)f.append(e.children.clone().addClass("bx-clone"));else{f.prepend(e.children.clone().addClass("bx-clone"));var c=e.children.first().position();b="horizontal"==e.settings.mode?-c.left:-c.top}t(b,"reset",0),e.settings.pager=!1,e.settings.controls=!1,e.settings.autoControls=!1,e.settings.tickerHover&&!e.usingCSS&&e.viewport.hover(function(){f.stop()},function(){var b=0;e.children.each(function(){b+="horizontal"==e.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)});var c=e.settings.speed/b,d="horizontal"==e.settings.mode?"left":"top",g=c*(b-Math.abs(parseInt(f.css(d))));K(g)}),K()},K=function(a){speed=a?a:e.settings.speed;var b={left:0,top:0},c={left:0,top:0};"next"==e.settings.autoDirection?b=f.find(".bx-clone").first().position():c=e.children.first().position();var d="horizontal"==e.settings.mode?-b.left:-b.top,g="horizontal"==e.settings.mode?-c.left:-c.top,h={resetValue:g};t(d,"ticker",speed,h)},L=function(){e.touch={start:{x:0,y:0},end:{x:0,y:0}},e.viewport.bind("touchstart",M)},M=function(a){if(e.working)a.preventDefault();else{e.touch.originalPos=f.position();var b=a.originalEvent;e.touch.start.x=b.changedTouches[0].pageX,e.touch.start.y=b.changedTouches[0].pageY,e.viewport.bind("touchmove",N),e.viewport.bind("touchend",O)}},N=function(a){var b=a.originalEvent,c=Math.abs(b.changedTouches[0].pageX-e.touch.start.x),d=Math.abs(b.changedTouches[0].pageY-e.touch.start.y);if(3*c>d&&e.settings.preventDefaultSwipeX?a.preventDefault():3*d>c&&e.settings.preventDefaultSwipeY&&a.preventDefault(),"fade"!=e.settings.mode&&e.settings.oneToOneTouch){var f=0;if("horizontal"==e.settings.mode){var g=b.changedTouches[0].pageX-e.touch.start.x;f=e.touch.originalPos.left+g}else{var g=b.changedTouches[0].pageY-e.touch.start.y;f=e.touch.originalPos.top+g}t(f,"reset",0)}},O=function(a){e.viewport.unbind("touchmove",N);var b=a.originalEvent,c=0;if(e.touch.end.x=b.changedTouches[0].pageX,e.touch.end.y=b.changedTouches[0].pageY,"fade"==e.settings.mode){var d=Math.abs(e.touch.start.x-e.touch.end.x);d>=e.settings.swipeThreshold&&(e.touch.start.x>e.touch.end.x?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto())}else{var d=0;"horizontal"==e.settings.mode?(d=e.touch.end.x-e.touch.start.x,c=e.touch.originalPos.left):(d=e.touch.end.y-e.touch.start.y,c=e.touch.originalPos.top),!e.settings.infiniteLoop&&(0==e.active.index&&d>0||e.active.last&&0>d)?t(c,"reset",200):Math.abs(d)>=e.settings.swipeThreshold?(0>d?f.goToNextSlide():f.goToPrevSlide(),f.stopAuto()):t(c,"reset",200)}e.viewport.unbind("touchend",O)},P=function(){var b=a(window).width(),c=a(window).height();(g!=b||h!=c)&&(g=b,h=c,f.redrawSlider())};return f.goToSlide=function(b,c){if(!e.working&&e.active.index!=b)if(e.working=!0,e.oldIndex=e.active.index,e.active.index=0>b?q()-1:b>=q()?0:b,e.settings.onSlideBefore(e.children.eq(e.active.index),e.oldIndex,e.active.index),"next"==c?e.settings.onSlideNext(e.children.eq(e.active.index),e.oldIndex,e.active.index):"prev"==c&&e.settings.onSlidePrev(e.children.eq(e.active.index),e.oldIndex,e.active.index),e.active.last=e.active.index>=q()-1,e.settings.pager&&E(e.active.index),e.settings.controls&&H(),"fade"==e.settings.mode)e.settings.adaptiveHeight&&e.viewport.height()!=m()&&e.viewport.animate({height:m()},e.settings.adaptiveHeightSpeed),e.children.filter(":visible").fadeOut(e.settings.speed).css({zIndex:0}),e.children.eq(e.active.index).css("zIndex",51).fadeIn(e.settings.speed,function(){a(this).css("zIndex",50),F()});else{e.settings.adaptiveHeight&&e.viewport.height()!=m()&&e.viewport.animate({height:m()},e.settings.adaptiveHeightSpeed);var d=0,g={left:0,top:0};if(!e.settings.infiniteLoop&&e.carousel&&e.active.last)if("horizontal"==e.settings.mode){var h=e.children.eq(e.children.length-1);g=h.position(),d=e.viewport.width()-h.width()}else{var i=e.children.length-e.settings.minSlides;g=e.children.eq(i).position()}else if(e.carousel&&e.active.last&&"prev"==c){var j=1==e.settings.moveSlides?e.settings.maxSlides-r():(q()-1)*r()-(e.children.length-e.settings.maxSlides),h=f.children(".bx-clone").eq(j);g=h.position()}else if("next"==c&&0==e.active.index)g=f.find("> .bx-clone").eq(e.settings.maxSlides).position(),e.active.last=!1;else if(b>=0){var k=b*r();g=e.children.eq(k).position()}if(void 0!==g){var l="horizontal"==e.settings.mode?-(g.left-d):-g.top;t(l,"slide",e.settings.speed)}}},f.goToNextSlide=function(){if(e.settings.infiniteLoop||!e.active.last){var a=parseInt(e.active.index)+1;f.goToSlide(a,"next")}},f.goToPrevSlide=function(){if(e.settings.infiniteLoop||0!=e.active.index){var a=parseInt(e.active.index)-1;f.goToSlide(a,"prev")}},f.startAuto=function(a){e.interval||(e.interval=setInterval(function(){"next"==e.settings.autoDirection?f.goToNextSlide():f.goToPrevSlide()},e.settings.pause),e.settings.autoControls&&1!=a&&G("stop"))},f.stopAuto=function(a){e.interval&&(clearInterval(e.interval),e.interval=null,e.settings.autoControls&&1!=a&&G("start"))},f.getCurrentSlide=function(){return e.active.index},f.getSlideCount=function(){return e.children.length},f.redrawSlider=function(){e.children.add(f.find(".bx-clone")).width(o()),e.viewport.css("height",m()),e.settings.ticker||s(),e.active.last&&(e.active.index=q()-1),e.active.index>=q()&&(e.active.last=!0),e.settings.pager&&!e.settings.pagerCustom&&(u(),E(e.active.index))},f.destroySlider=function(){e.initialized&&(e.initialized=!1,a(".bx-clone",this).remove(),e.children.removeAttr("style"),this.removeAttr("style").unwrap().unwrap(),e.controls.el&&e.controls.el.remove(),e.controls.next&&e.controls.next.remove(),e.controls.prev&&e.controls.prev.remove(),e.pagerEl&&e.pagerEl.remove(),a(".bx-caption",this).remove(),e.controls.autoEl&&e.controls.autoEl.remove(),clearInterval(e.interval),a(window).unbind("resize",P))},f.reloadSlider=function(a){void 0!=a&&(d=a),f.destroySlider(),j()},j(),this}}(jQuery),function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(d){function e(){var b=a(l),c=a(m);h&&(m.length?h.reject(j,b,c):h.resolve(j)),a.isFunction(d)&&d.call(g,j,b,c)}function f(b,d){b.src===c||-1!==a.inArray(b,k)||(k.push(b),d?m.push(b):l.push(b),a.data(b,"imagesLoaded",{isBroken:d,src:b.src}),i&&h.notifyWith(a(b),[d,j,a(l),a(m)]),j.length===k.length&&(setTimeout(e),j.unbind(".imagesLoaded")))}var g=this,h=a.isFunction(a.Deferred)?a.Deferred():0,i=a.isFunction(h.notify),j=g.find("img").add(g.filter("img")),k=[],l=[],m=[];return a.isPlainObject(d)&&a.each(d,function(a,b){"callback"===a?d=b:h&&h[a](b)}),j.length?j.bind("load.imagesLoaded error.imagesLoaded",function(a){f(a.target,"error"===a.type)}).each(function(d,e){var g=e.src,h=a.data(e,"imagesLoaded");h&&h.src===g?f(e,h.isBroken):e.complete&&e.naturalWidth!==b?f(e,0===e.naturalWidth||0===e.naturalHeight):(e.readyState||e.complete)&&(e.src=c,e.src=g)}):e(),h?h.promise(g):g}}(jQuery),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(a="hexaFlip",b=a[0].toUpperCase()+a.slice(1),h=["webkit","Moz","O","ms"],i=function(a){var b,c,d,e;if(null!=document.body.style[a.toLowerCase()])return a.toLowerCase();for(d=0,e=h.length;e>d;d++)if(b=h[d],c=b+a,null!=document.body.style[c])return c;return!1},c={},n=["Transform","Perspective"],l=0,m=n.length;m>l;l++)j=n[l],c[j.toLowerCase()]=i(j);e={height:80,width:300,margin:10,fontSize:132,perspective:1e3,touchSensitivity:0},d=a.toLowerCase(),f=["front","bottom","back","top","left","right"],g=f.slice(0,4),k=/^((((https?)|(file)):)?\/\/)|(data:)|(\.\.?\/)/i,window.HexaFlip=function(){function a(b,f,g){var h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this;if(this.el=b,this.sets=f,this.options=null!=g?g:{},this._onMouseOut=function(){return a.prototype._onMouseOut.apply(z,arguments)},c.transform&&this.el){for(o in e)t=e[o],this[o]=null!=(x=this.options[o])?x:e[o];q=Object.keys(this.sets),r=q.length,i=document.createDocumentFragment(),j=u=0,n=r/2+1,this.cubes={},y=this.sets;for(m in y)for(p=y[m],h=this.cubes[m]=this._createCube(m),++j<n?u++:u--,h.el.style.zIndex=u,this._setContent(h.front,p[0]),i.appendChild(h.el),v=0,w=p.length;w>v;v++)s=p[v],k.test(s)&&(l=new Image,l.src=s);this.cubes[q[0]].el.style.marginLeft="0",this.cubes[q[q.length-1]].el.style.marginRight="0",this.el.classList.add(d),this.el.style.height=this.height+"px",this.el.style.width=this.width+"px",this.el.style[c.perspective]=this.perspective+"px",this.el.appendChild(i)}}return a.prototype._createCube=function(a){var b,e,g,h,i,j,k,l,m,n,o,p,q,r,s=this;for(b={set:a,offset:0,y1:0,yDelta:0,yLast:0,el:document.createElement("div")},b.el.className=""+d+"-cube "+d+"-cube-"+a,b.el.style.margin="0 "+this.margin+"px",b.el.style.height=this.height+"px",b.el.style.width=this.width+"px",b.el.style[c.transform]=this._getTransform(0),m=0,p=f.length;p>m;m++)k=f[m],b[k]=document.createElement("div"),b[k].className=d+"-"+k,j=function(){switch(k){case"front":return"0, 0, 0, 0deg";case"back":return"1, 0, 0, 180deg";case"top":return"1, 0, 0, 90deg";case"bottom":return"1, 0, 0, -90deg";case"left":return"0, 1, 0, -90deg";case"right":return"0, 1, 0, 90deg"}}(),b[k].style[c.transform]="right"==k||"left"==k?"rotate3d("+j+") translate3d(0, 0, "+"0px)":"rotate3d("+j+") translate3d(0, 0, "+this.height/2+"px)",b[k].style.fontSize=this.fontSize,b.el.appendChild(b[k]);h=[["TouchStart","MouseDown"],["TouchMove","MouseMove"],["TouchEnd","MouseUp"],["TouchLeave","MouseLeave"]],i="onmouseleave"in window;for(n=0,q=h.length;q>n;n++)for(g=h[n],l=function(a,b){return"TouchLeave"!==e&&"MouseLeave"!==e||i?b.el.addEventListener(e.toLowerCase(),function(c){return s[a](c,b)
},!0):b.el.addEventListener("mouseout",function(a){return s._onMouseOut(a,b)},!0)},o=0,r=g.length;r>o;o++)e=g[o],l("_on"+g[0],b);return this._setSides(b),b},a.prototype._getTransform=function(a){return"translateZ(-"+this.height/2+"px) rotateX("+a+"deg)"},a.prototype._setContent=function(a,b){if(a&&b){var c=b.title,d=b.bgcolor;return a.style.backgroundColor=d,a.style.color=b.color,a.innerHTML=c.toString()}},a.prototype._setSides=function(a){var b,d,e,f,h,i,j;return a.el.style[c.transform]=this._getTransform(a.yDelta),a.offset=e=Math.floor(a.yDelta/90),e!==a.lastOffset?(a.lastOffset=d=i=e,f=this.sets[a.set],h=f.length,0>e&&(d=i=++e,0>e&&(-e>h?(i=h- -e%h,i===h&&(i=0)):i=h+e,-e>4?(d=4- -e%4,4===d&&(d=0)):d=4+e)),i>=h&&(i%=h),d>=4&&(d%=4),j=d-1,b=d+1,-1===j&&(j=3),4===b&&(b=0),this._setContent(a[g[j]],f[i-1]||f[h-1]),this._setContent(a[g[b]],f[i+1]||f[0])):void 0},a.prototype._onTouchStart=function(a,b){return a.preventDefault(),b.touchStarted=!0,a.currentTarget.classList.add("no-tween"),b.y1="mousedown"===a.type?a.pageY:a.touches[0].pageY},a.prototype._onTouchMove=function(a,b){return b.touchStarted?(a.preventDefault(),b.diff=(a.pageY-b.y1)*this.touchSensitivity,b.yDelta=b.yLast-b.diff,this._setSides(b)):void 0},a.prototype._onTouchEnd=function(a,b){var d;return b.touchStarted=!1,d=b.yDelta%90,b.yLast=45>d?b.yDelta+d:b.yDelta>0?b.yDelta+d:b.yDelta-(90-d),0!==b.yLast%90&&(b.yLast-=b.yLast%90),b.el.classList.remove("no-tween"),b.el.style[c.transform]=this._getTransform(b.yLast),!0},a.prototype._onTouchLeave=function(a,b){return b.touchStarted?this._onTouchEnd(a,b):void 0},a.prototype._onMouseOut=function(a,b){return b.touchStarted?a.toElement&&!b.el.contains(a.toElement)?this._onTouchEnd(a,b):void 0:void 0},a.prototype.setValue=function(a){var b,c,d,e,f;f=[];for(d in a)e=a[d],this.sets[d]&&!this.cubes[d].touchStarted&&(e=e.toString(),b=this.cubes[d],c=this.sets[d].indexOf(e),b.yDelta=b.yLast=90*c,this._setSides(b),f.push(this._setContent(b[g[c%4]],e)));return f},a.prototype.getValue=function(){var a,b,c,d,e,f;e=this.cubes,f=[];for(c in e)a=e[c],c=this.sets[c],d=c.length,b=a.yLast/90,0>b&&(-b>d?(b=d- -b%d,b===d&&(b=0)):b=d+b),b>=d&&(b%=d),"object"==typeof c[b]?f.push(c[b].value):f.push(c[b]);return f},a.prototype.flip=function(b){var c,d,e,f,g;d=b?-90:90,f=this.cubes,g=[];for(e in f)c=f[e],c.touchStarted||(c.yDelta=c.yLast+=d,g.push(this._setSides(c)));return"fake"!=b?(clearTimeout($.data(this,"navTimer")),$.data(this,"navTimer",setTimeout(function(){a.prototype.flipLogic(g)},1e3))):$("body").removeClass("animating"),g},a.prototype.flipBack=function(){return this.flip(!0)},a.prototype.flipLogic=function(a){if(portfolio.initialTurnComplete===!0){var b=Array();b.Contact="Personal",b.Digital="Social",b.Personal="Contact",b.Social="Digital";var c=b[a[0]];$.each(portfolio.menuItems,function(a,b){if(c==b.title&&""!=b.url){var d=b.url;$("body").addClass("animating"),portfolio.animate_bg("rest",d,0)}})}else $("body").removeClass("animating")},a}(),(null!=window.jQuery||null!=(null!=(o=window.$)?o.data:void 0))&&($.fn.hexaFlip=function(b,d){var e,f,g,h,i,j,k,l;if(!c.transform)return this;if("string"==typeof b){if(h=b,"function"!=typeof HexaFlip.prototype[h])return this;for(i=0,k=this.length;k>i;i++){if(f=this[i],!(g=$.data(f,a)))return;e=Array.prototype.slice.call(arguments),e.shift(),g[h](e)}return this}for(j=0,l=this.length;l>j;j++){if(f=this[j],g=$.data(f,a))return g;$.data(f,a,new HexaFlip(f,b,d))}})}.call(this);var portfolio={};"undefined"==typeof console&&(console={log:function(){}}),function(a){function b(){$("#body-wrapper").width($(window).width()),a.menuItems=[{title:"Digital",bgcolor:"#3498DB",color:"#ffffff",databgcolor:"blue",url:""},{title:"Contact",bgcolor:"#E74C3C",color:"#ffffff",databgcolor:"red",url:"/contact/"},{title:"Social",bgcolor:"#F1C40F",color:"#ffffff",databgcolor:"yellow",url:"/social/"},{title:"Personal",bgcolor:"#1ABC9C",color:"#ffffff",databgcolor:"green",url:"/personal/"}];var b={height:80,width:300};a.ie?(console.log("load ie"),d(),$("header,#container").addClass("active"),a.animate_bg("initial",null)):(a.hexa=new HexaFlip(document.getElementById("hexalip"),{set:a.menuItems},b),e(),a.timelineInstance=new a.Timeline)}function c(){$('a[href="#"]').on("click",function(a){a.preventDefault()}),$("html").click(function(a){if(!$("body").hasClass("animating")){var b=$(a.target).parents("#main-content").length;$("body").is(".casestudy,.social,.digital,.personal,.contact")&&!b&&$(".btn.close").click()}}),$(".card, #hexalip > *, .btn.close, #main-content .inner > *, #timeline > *, #prev, #next, #main-content .inner").on("click",function(a){a.stopPropagation()}),window.onpopstate=function(){"/"==location.pathname&&$(".btn.close").click();var b=Array();b.personal=1,b.social=2,b.contact=3,b.digital=0;var c="";$.each($(".card"),function(){c=$(this).attr("href"),c==location.pathname&&(a.turnCount=4,a.ie||a.timelineInstance.activate($(this).parent().index()+1),a.animate_bg("casestudy",$(this).attr("href"),$(this).parent().index()))});var d=location.pathname.replace(/\//g,"");$.each(a.menuItems,function(c,e){e.title.toLowerCase()==d.toLowerCase()&&(a.turnCount+=b[d.toLowerCase()],a.animate_bg("rest",location.pathname,0))})},$(window).resize(function(){$("#body-wrapper").width($(window).width()),$(".container").attr("style",""),$("body").hasClass("casestudy")&&$("#container").height($("#main-content").height())}),$(".card").on("click",function(b){return b.preventDefault(),$("body").hasClass("animating")||$(".card.flipped").length!=$(".card").length||($("html, body").animate({scrollTop:0,easing:"easeInOutExpo"},500),a.ie||a.timelineInstance.activate($(this).parent().index()+1),a.animate_bg("casestudy",$(this).attr("href"),$(this).parent().index())),!1}),a.ie||$("#hexalip").on("click",function(){a.hexa.flipBack(),7==a.turnCount?a.turnCount=4:a.turnCount+=1}),$(".btn.close").on("click",function(a){return a.preventDefault(),$("body").hasClass("animating")||($("#timeline").removeClass("active"),$(".container").attr("style","").addClass("active"),$(".hoverscroll-content,#timeline,#overlay").removeClass("active"),h("blue","back_to_home")),!1}),$("#container").bind("animateBoxes",function(){$(".container").addClass("active");var b=0;$(".card").each(function(){var c=$(this);a.ie||(setTimeout(function(){c.addClass("flipped")},b),b+=100)})}),$("#container").bind("boxAnimation",function(b,c){var d=0,e=100*$(".card").length;a.ie||$(".card").each(function(){var a=$(this);setTimeout(function(){"open"!=c?a.removeClass("flipped"):a.addClass("flipped")},d),d+=50}),"open"==c&&($("#prev,#next,.btn.close").hide(0).removeClass("active"),setTimeout(function(){$("#container").trigger("boxAnimationComplete")},.3*e))}),$("#container").bind("boxAnimationComplete",function(){$("body").removeClass("casestudy personal digital social contact"),l($("section.bg .box.blue"),200,$("#container"),!1,0),$("#container").removeAttr("style"),$("body").unbind("keyup"),f("reset")})}function d(){var b="";$.each(a.menuItems,function(a,c){b+='<div class="hexaflip-front" style="background-color:'+c.bgcolor+'"><a target="_self" href="'+c.url+'" title="'+c.title+'">'+c.title+"</a></div>"}),$("#hexalip").html(b)}function e(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"},b=a[Modernizr.prefixed("transition")];setTimeout(function(){$("header").addClass("active");var a=!1;$("header").bind(b,function(){a||(g("animateBoxes"),a=!0)})},800)}function f(b){var c=200;if("initial"==b)var d=a.turnCount;else d=4==a.turnCount?4:4-a.turnCount%4;a.initialTurnComplete=!1;for(var e=0;d>e;e++)setTimeout(function(){a.hexa.flipBack("fake")},c),e==d-1&&setTimeout(function(){a.initialTurnComplete=!0,a.turnCount=d,"reset"==b&&(a.turnCount=4)},c*d)}function g(b){a.ie||f("initial"),"animateBoxes"==b&&setTimeout(function(){$("#container").trigger("animateBoxes")},2300),setTimeout(function(){a.animate_bg("initial",null)},1e3)}function h(b,c,d,e){if("#"==d)return!1;var f=$("section.bg .box."+b),g=$("section.bg .box."+b).index();parseInt(f.css("width")),parseInt(f.css("height")),"load_detail"==c?($("#container").trigger("boxAnimation","close"),$("body").addClass("casestudy")):"back_to_home"==c?(a.ie||history.pushState("","New URL: ","/"),$("#main-content").removeClass("active"),setTimeout(function(){$("#main-content").hide()},1200),setTimeout(function(){$("#container").trigger("boxAnimation","open")},400)):"load_rest"==c&&($("body").addClass(d.replace(/\//g,"").toLowerCase()),$("#container").trigger("boxAnimation","close")),("load_detail"==c||"load_rest"==c)&&i(f,d,e,c,g)}function i(b,c,d,e,f){var g=!1,h="http://"+window.location.hostname;$.ajax({type:"GET",url:h+c+"?a=t",error:function(){console.log("error loading "+h+c+"?a=t")},success:function(h){b.addClass("animating"),b.animate({left:"-=2500",width:"+=2650"},1200,function(){b.removeClass("animating"),b.trigger("animationEnd",[h]),$(".carousel ul.bxslider").each(function(){$(this).find("li").length>1&&$(this).bxSlider({infiniteLoop:!0,hideControlOnEnd:!0,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",adaptiveHeight:!0,video:!0,preloadImages:"all",controls:!1,auto:!0,pause:7e3})});var i=$("#main-content img").map(function(){return $(this).attr("src")});$.each(i,function(b,c){a.loader.addImage(c)}),a.loader.addCompletionListener(function(){b.hasClass("animating")||g||(g=!0,history.pushState("","New URL: "+c,c),"load_detail"==e?j(h,b,d,f):"load_rest"==e&&k(h,b,d,f))}),a.loader.start()})}}),b.bind("animationEnd",function(h,i){g||(g=!0,a.ie||history.pushState("","New URL: "+c,c),"load_detail"==e?j(i,b,d,f):"load_rest"==e&&k(i,b,d,f))})}function j(b,c,d,e){c.unbind("animationEnd"),$("body").addClass("animatingv2"),$("#main-content").html(b),$("#main-content").css("display","block"),setTimeout(function(){if($("#main-content").addClass("active"),!a.ie){$("#timeline").show().css("opacity",1);var b=parseInt((d+.75)/a.timelineInstance.maxSlider);a.slider.goToSlide(b)}l(c,400,$("#main-content"),!0,e,"casestudy")},800)}function k(a,b,c,d){b.unbind("animationEnd"),$("body").addClass("animatingv2"),$("#main-content").html(a),$("#main-content").css("display","block"),setTimeout(function(){$("#main-content").addClass("active"),l(b,300,$("#main-content"),!0,d,"rest")},800)}function l(b,c,d,e,f,g){var h=150*f;return b.animate({left:h,width:"150"},400,function(){$("#container").height(d.height());var b=m(parseInt(d.height())+c);$("section.bg .box").each(function(){$(this).height(b-80)}),e?(a.toggle_slider_buttons(g),setTimeout(function(){$("body").bind("keyup",function(b){var c=parseInt($(".bx-wrapper .slide a.active").parent().index());if(27==b.keyCode)$(".btn.close").click();else if(37==b.keyCode){if(0!=c){a.timelineInstance.activate(c);var d=$("#timeline-slider .slide:nth-child("+c+") a");a.animate_bg("casestudy",d.attr("href"),$(d).parent().index())}}else if(39==b.keyCode&&c+2<=a.slider.getSlideCount()){a.timelineInstance.activate(c+2);var d=$("#timeline-slider .slide:nth-child("+parseInt(c+2)+") a");a.animate_bg("casestudy",d.attr("href"),$(d).parent().index())}}),$("body").removeClass("animating animatingv2")},2e3)):$("#prev,#next,.btn.close").removeClass("active")}),!0}function m(a){return-1*(a/Math.cos(35))}a.hexa,$(function(){a.mobileWebkit=null!==navigator.userAgent.match(/iPad/i)||null!==navigator.userAgent.match(/iPhone/i),a.ie=$.browser.msie,$("html").hasClass("no-hashchange")&&(a.ie=!0),a.ie&&$("html").addClass("ie"),a.homepage="/"==window.location.pathname||"/en/"==window.location.pathname,a.useHistoryState="pushState"in history,a.touchDevice=$("html").hasClass("touch"),a.clickEvent="click",a.url=window.location.pathname,a.loader=new PxLoader,a.initialTurnComplete=!1,a.turnCount=4,setTimeout(function(){$.browser.webkit||window.onpopstate()},1e3),c(),b()}),a.animate_bg=function(b,c,d){if("initial"==b){var e=0;$("section.bg .box").each(function(){var a=m(parseInt($("#container").height())+200);$("section.bg .box").each(function(){$(this).height(a-80)});var b=$(this);setTimeout(function(){b.addClass("active")},e),e+=100})}else if("casestudy"==b)$("body").addClass("animating"),$("#main-content").html().length>0&&($("#main-content .inner").fadeOut(400),$("#main-content").removeClass("active"),$(".container").addClass("active"),$("#prev,#next,.btn.close").removeClass("active"),$("#timeline").hasClass("active")?a.timelineInstance.onHoverTimelineFixArrows():a.toggle_slider_buttons()),$("body").unbind("keyup"),h("blue","load_detail",c,d);else if("rest"==b){var f=c.replace(/\//g,"");$.each(a.menuItems,function(a,b){b.title.toLowerCase()==f.toLowerCase()&&h(b.databgcolor,"load_rest",c,d)})}},a.toggle_slider_buttons=function(b){if(!a.ie&&"rest"!=b){var c=$(".bx-wrapper .slide a.active").parent().index();if(0==c)$("#prev").hide(),$("#next").show().addClass("active");else if(c+1==a.slider.getSlideCount())$("#next").hide(),$("#prev").show();else{var d=a.slider.getCurrentSlide();0==d?$("#next").show().addClass("active"):$("#prev,#next").show().addClass("active")}}$(".btn.close").show().addClass("active")}}(portfolio),portfolio.Timeline=function(){function a(){return this.init(),this.bind(),this}var b=a.prototype;return b.init=function(){b.maxSlider=6,portfolio.slider=$("#timeline-slider").bxSlider({slideWidth:200,minSlides:b.maxSlider,maxSlides:b.maxSlider,slideMargin:0,preloadImages:"all",pager:!1,controls:!0,prevSelector:"#prev",nextSelector:"#next",prevText:"",nextText:"",infiniteLoop:!1,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",onSliderLoad:function(a){0==a&&$("#prev").hide()},onSlideNext:function(a,c,d){var e=portfolio.slider.getSlideCount()/b.maxSlider;d==e-1?$("#next").hide():$("#next").show(),$("#prev").show()},onSlidePrev:function(a,b,c){0==c?$("#prev").hide():($("#prev").show(),$("#next").show())}}),b.activate(1)},b.bind=function(){$(".bx-wrapper .slide a").on("click",function(a){if(a.preventDefault(),!$("body").hasClass("animating")){if($(".hoverscroll-content,#timeline,#overlay").removeClass("active"),$(this).hasClass("active"))return!1;b.activate($(this).parent().index()+1),portfolio.animate_bg("casestudy",$(this).attr("href"),$(this).parent().index())}return!1}),$(window).resize(function(){}),$(window).scroll(function(){if($("body").hasClass("casestudy")){var a=$(window).scrollTop();a>100?$(".btn.close").addClass("topLess"):$(".btn.close").removeClass("topLess")}$(".hoverscroll-content,#timeline,#overlay").removeClass("active"),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout(function(){},250))});var a=!1;$(".hoverscroll-left, .hoverscroll-right").mouseenter(function(){b.onHoverTimelineFixArrows(),a=!0,clearTimeout($(".hoverscroll-content").data("timeoutId")),$(".hoverscroll-content").addClass("active"),$("#overlay").addClass("active"),$("#timeline").addClass("active")}).mouseleave(function(){a=!1}),$(".hoverscroll-content").mouseleave(function(){if(a)return!1;if($(".hoverscroll-content").hasClass("active")){var b=setTimeout(function(){$(".hoverscroll-content").removeClass("active"),$("#overlay").removeClass("active"),$("#timeline").removeClass("active")},400);$(".hoverscroll-content").data("timeoutId",b)}})},b.onHoverTimelineFixArrows=function(){0==portfolio.slider.getCurrentSlide()?($("#next").show().addClass("active"),$("#prev").hide()):portfolio.slider.getSlideCount()/portfolio.timelineInstance.maxSlider-1==portfolio.slider.getCurrentSlide()?($("#next").hide(),$("#prev").show()):$("#prev,#next").show().addClass("active")},b.activate=function(a){$.each($(".bx-wrapper .slide a"),function(){$(this).removeClass("active")}),$("#timeline-slider .slide:nth-child("+a+") a").addClass("active")},b.positionTimeline=function(){var a=parseInt($(window).height()),b=a/2;if($("#prev,#next").css("overflow","visible"),$("body").hasClass("casestudy")){b+=-1*parseInt($("body").css("margin-top"))/2;var c=$("body").scrollTop();c>0&&(b+=c)}return $("#timeline").css("top",b),!0},a}();